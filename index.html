<!DOCTYPE html>
<html>
<head>
    <title>Name and Month Stars</title>
</head>
<body>
    <form id="form">
        <label for="name">이름:</label>
        <input type="text" id="name" name="name" required><br>
        <label for="year">태어난 년도:</label>
        <select id="year" name="year">
            <!-- generate options for years from 1940 to 2040 -->
            <script>
                for (let i = 1940; i <= 2040; i++) {
                    document.write('<option value="' + i + '">' + i + '</option>');
                }
            </script>
        </select><br>
        <label for="month">태어난 양력월:</label>
        <select id="month" name="month">
            <!-- generate options for months from 1 to 12 -->
            <script>
                for (let i = 1; i <= 12; i++) {
                    document.write('<option value="' + i + '">' + i + '</option>');
                }
            </script>
        </select><br>
        <input type="submit" value="확인">
    </form>

    <script>
        document.getElementById("form").addEventListener("submit", function(event) {
            event.preventDefault(); // 폼 제출 기본 동작 막기

            // 사용자 입력값 가져오기
            var name = document.getElementById("name").value;
            var year = parseInt(document.getElementById("year").value);
            var month = parseInt(document.getElementById("month").value);

            // 결과를 출력하는 부분
            var birthStar = calculateBirthStar(year);
            var monthStar = calculateMonthStar(year, month);
            var result = "당신의 본명성은 " + birthStar + ", 월명성은 " + monthStar + "입니다.";
            alert(result);
        });

        function calculateBirthStar(year) {
            var digits = year.toString().split('').map(Number);
            var sum = digits.reduce(function(a, b) {
                return a + b;
            }, 0);
            while (sum >= 10) {
                sum = sum.toString().split('').map(Number).reduce(function(a, b) {
                    return a + b;
                }, 0);
            }
            var birthStars = {
                1: "일백수성(一白水星)",
                2: "이흑토성(二黑土星)",
                3: "삼벽목성(三碧木星)",
                4: "사록목성(四綠木星)",
                5: "오황토성(五黃土星)",
                6: "육백금성(六白金星)",
                7: "칠적금성(七赤金星)",
                8: "팔백토성(八白土星)",
                9: "구자화성(九紫火星)"
            };
            return birthStars[sum];
        }

        function calculateMonthStar(year, month) {
            var stemBranch = calculateStemBranch(year);
            var monthStars = {
                '자오묘유': {
                    1: "육백금성(六白金星)",
                    2: "팔백토성(八白土星)",
                    3: "칠적금성(七赤金星)",
                    4: "육백금성(六白金星)",
                    5: "오황토성(五黃土星)",
                    6: "사록목성(四綠木星)",
                    7: "삼벽목성(三碧木星)",
                    8: "이흑토성(二黑土星)",
                    9: "일백수성(一白水星)",
                    10: "구자화성(九紫火星)",
                    11: "팔백토성(八白土星)",
                    12: "칠적금성(七赤金星)"
                },
                '진술축미': {
                    1: "삼벽목성(三碧木星)",
                    2: "오황토성(五黃土星)",
                    3: "사록목성(四綠木星)",
                    4: "삼벽목성(三碧木星)",
                    5: "이흑토성(二黑土星)",
                    6: "일백수성(一白水星)",
                    7: "구자화성(九紫火星)",
                    8: "팔백토성(八白土星)",
                    9: "칠적금성(七赤金星)",
                    10: "육백금성(六白金星)",
                    11: "오황토성(五黃土星)",
                    12: "사록목성(四綠木星)"
                },
                '신유술해': {
                    1: "구자화성(九紫火星)",
                    2: "이흑토성(二黑土星)",
                    3: "일백수성(一白水星)",
                    4: "구자화성(九紫火星)",
                    5: "팔백토성(八白土星)",
                    6: "칠적금성(七赤金星)",
                    7: "육백금성(六白金星)",
                    8: "오황토성(五黃土星)",
                    9: "사록목성(四綠木星)",
                    10: "삼벽목성(三碧木星)",
                    11: "이흑토성(二黑土星)",
                    12: "일백수성(一白水星)"
                }
            };
            return monthStars[stemBranch][month];
        }

        function calculateStemBranch(year) {
            var birthYearStemBranch = {
                1924: '갑자', 1984: '갑자', 2044: '갑자', 2104: '갑자',
                1925: '을축', 1985: '을축',
                1926: '병인', 1986: '병인',
                1927: '정묘', 1987: '정묘',
                1928: '무진', 1988: '무진',
                1929: '기사', 1989: '기사',
                1930: '경오', 1990: '경오',
                1931: '신미', 1991: '신미',
                1932: '임신', 1992: '임신',
                1933: '계유', 1993: '계유',
                1934: '갑술', 1994: '갑술', 2054: '갑술', 2114: '갑술',
                1935: '을해', 1995: '을해',
                1936: '병자', 1996: '병자',
                1937: '정축', 1997: '정축',
                1938: '무인', 1998: '무인',
                1939: '기묘', 1999: '기묘',
                1940: '경진', 2000: '경진',
                1941: '신사', 2001: '신사',
                1942: '임오', 2002: '임오',
                1943: '계미', 2003: '계미',
                1944: '갑신', 2004: '갑신', 2064: '갑신', 2124: '갑신',
                1945: '을유', 2005: '을유',
                1946: '병술', 2006: '병술',
                1947: '정해', 2007: '정해',
                1948: '무자', 2008: '무자',
                1949: '기축', 2009: '기축',
                1950: '경인', 2010: '경인',
                1951: '신묘', 2011: '신묘',
                1952: '임진', 2012: '임진',
                1953: '계사', 2013: '계사',
                1954: '갑오', 2014: '갑오', 2074: '갑오', 2134: '갑오',
                1955: '을미', 2015: '을미',
                1956: '병신', 2016: '병신',
                1957: '정유', 2017: '정유',
                1958: '무술', 2018: '무술',
                1959: '기해', 2019: '기해',
                1960: '경자', 2020: '경자',
                1961: '신축', 2021: '신축',
                1962: '임인', 2022: '임인',
                1963: '계묘', 2023: '계묘',
                1964: '갑진', 2024: '갑진', 2084: '갑진', 2144: '갑진',
                1965: '을사', 2025: '을사',
                1966: '병오', 2026: '병오',
                1967: '정미', 2027: '정미',
                1968: '무신', 2028: '무신',
                1969: '기유', 2029: '기유',
                1970: '경술', 2030: '경술',
                1971: '신해', 2031: '신해',
                1972: '임자', 2032: '임자',
                1973: '계축', 2033: '계축',
                1974: '갑인', 2034: '갑인', 2094: '갑인', 2154: '갑인',
                1975: '을묘', 2035: '을묘',
                1976: '병진', 2036: '병진',
                1977: '정사', 2037: '정사',
                1978: '무오', 2038: '무오',
                1979: '기미', 2039: '기미',
                1980: '경신', 2040: '경신', 2100: '경신', 2160: '경신',
                1981: '신유', 2041: '신유',
                1982: '임술', 2042: '임술',
                1983: '계해', 2043: '계해'
            };
            return birthYearStemBranch[year];
        }
    </script>
</body>
</html>
